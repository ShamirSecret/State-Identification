"use strict";(self.webpackChunknew_picwe=self.webpackChunknew_picwe||[]).push([[964],{7964:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var a=t(2791),i=t(5533),n=(t(43),t(4247)),l=t(959),c=t(9230),r=t(8926),d=t(1991),o=t(184);const u=function(){const{t:e,i18n:s}=(0,c.$G)(),{message:t}=i.Z.useApp(),[u,m]=(0,r.o)(),[p,h]=(0,a.useState)(),[b,j]=(0,a.useState)([]),[x,g]=(0,a.useState)([]),[N,y]=(0,a.useState)(1),[f,v]=(0,a.useState)(!1),_=async e=>{try{const s=await d.W.get("/sellpost/user_self_sold_posts",{params:{sort_by:1,page:e,per_page:8}}),{sold_posts:t,pagination:a}=s.data.data;200===s.data.code&&(j(t),h(a.total))}catch(s){console.log(s)}};let w=!1;return(0,a.useEffect)((()=>(async function(){w||u.userName&&_(1)}(),()=>{w=!0})),[]),(0,o.jsxs)("div",{className:"db-table-main",children:[u.userName?(0,o.jsxs)(o.Fragment,{children:[b&&b.length>0&&b.map(((s,t)=>(0,o.jsxs)("div",{className:"list-item-info",children:[(0,o.jsx)("div",{className:"item-title",children:s.post.attributes[0].title}),(0,o.jsxs)("div",{className:"item-title",children:[e("unitprice"),"\uff1a",s.post.price,"  point"]}),(0,o.jsxs)("div",{className:"item-title",children:[e("PurchaseQuantity"),"\uff1a",s.customers.length]}),(0,o.jsxs)("div",{className:"item-title",children:[e("TotalTA"),"\uff1a",s.customers.length*s.post.price*.5*1e4/1e4,"  point"]}),(0,o.jsx)("div",{className:"item-foot",children:(0,o.jsx)("span",{className:"db-table-time",onClick:()=>(async e=>{v(!0),g(e)})(s.customers),children:e("PurchaseDetails")})})]},t))),b&&b.length>0?(0,o.jsx)(n.Z,{defaultCurrent:1,total:p,pageSize:8,onChange:e=>{y(e),_(e)},current:N}):(0,o.jsx)(o.Fragment,{})]}):(0,o.jsx)(o.Fragment,{}),(0,o.jsxs)(l.Z,{title:e("PurchaseDetails"),open:f,onOk:()=>{v(!1)},onCancel:()=>{v(!1)},children:[(0,o.jsxs)("div",{className:"db-buy-info",children:[(0,o.jsx)("span",{className:"db-buy-people",children:(0,o.jsx)("b",{children:e("BuyPrice")})}),(0,o.jsx)("span",{className:"db-buy-people",children:(0,o.jsx)("b",{children:e("Buyingtime")})})]}),x&&x.length>0&&x.map(((e,s)=>(0,o.jsxs)("div",{className:"db-buy-info",children:[(0,o.jsx)("span",{className:"db-buy-people",children:e.username>18?e.username.slice(0,8)+"..."+e.username.slice(-7):e.username}),(0,o.jsx)("span",{className:"db-buy-people",children:e.timestamp})]},s)))]})]})}}}]);
//# sourceMappingURL=964.10d76598.chunk.js.map