"use strict";(self.webpackChunknew_picwe=self.webpackChunknew_picwe||[]).push([[871],{7704:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s(2791),r=s(9230),i=s(5533),c=s(1932),l=s(4247),n=s(7689),d=s(1087),o=s(1991);const h=s.p+"static/media/empty.50912619d39318a71d90.png";var m=s(4102),p=s(8926),u=s(184);const j=function(){const{t:e,i18n:t}=(0,r.$G)(),{message:s}=((0,n.TH)(),i.Z.useApp()),[j,x]=(0,a.useState)(!1),[v,g]=(0,a.useState)([]),[N,f]=(0,a.useState)([]),[b,k]=(0,a.useState)(0),[y,_]=(0,a.useState)(1),[w,C]=(0,p.o)(),P=async e=>{try{await o.W.get("/sellpost/user_self_posts",{params:{sort_by:1,page:e,per_page:3}}).then((e=>{if(200==e.data.code){const t=e.data.data.posts;for(let e=0;e<t.length;e++)"takeprofit"==Object.keys(t[e].attributes[6])[0]?t[e].takeprofit=t[e].attributes[6].takeprofit:t[e].takeprofit=t[e].attributes[6].takeprofit1,t[e].str=S(t[e].attributes[3].trend,t[e].attributes[4].price,t[e].attributes[5].stoplossprice,t[e].takeprofit),t[e].attributes[8]?t[e].content=t[e].attributes[8].content:t[e].content="-";g(t),k(e.data.data.pagination.total)}else s.error(e.data.message)}))}catch(t){console.log(t)}},S=(e,t,s,a)=>{const r="long"==e?t-s:s-t,i="long"==e?a-t:t-a;return Math.round(i/r*100)};let A=!1;return(0,a.useEffect)((()=>(async function(){A||P(1)}(),()=>{A=!0})),[]),(0,u.jsxs)("div",{className:"chart-info",children:[(0,u.jsxs)("div",{className:"add-chart "+(v.length>0?"":"add-empty"),children:[(0,u.jsx)("div",{className:"personal-img",children:null!=w.userAvatar?(0,u.jsx)("img",{src:w.url+w.userAvatar,alt:""}):(0,u.jsx)("img",{src:m,alt:""})}),(0,u.jsx)(d.rU,{to:"/addchart",children:(0,u.jsxs)("div",{className:"add-chart-name",children:[" ",e("AddChart")]})})]}),(0,u.jsx)("div",{className:"chart-list",children:v&&v.length>0&&v.map(((t,a)=>(0,u.jsxs)("div",{className:"chart-list-items",children:[(0,u.jsxs)("div",{className:"chart-items-header",children:[(0,u.jsx)("div",{className:"chart-items-title",children:t.attributes[0].title}),(0,u.jsxs)("div",{className:"chart-items-ratio",children:[e("ratio"),"\uff1a",t.str,"%"]})]}),(0,u.jsxs)("div",{className:"chart-other-value",children:[(0,u.jsxs)("div",{className:"other-value",children:[e("token"),"\uff1a",(0,u.jsxs)("span",{children:[" ",t.attributes[1].token]})]}),(0,u.jsxs)("div",{className:"other-value",children:[e("timePeriod"),"\uff1a",(0,u.jsx)("span",{children:t.attributes[2].timeperiod})]}),(0,u.jsxs)("div",{className:"other-value",children:[e("trend"),"\uff1a",(0,u.jsx)("span",{children:"long"==t.attributes[3].trend?`${e("long")}`:`${e("short")}`})]}),(0,u.jsxs)("div",{className:"other-value",children:["long"==t.attributes[3].trend?`${e("bPrice")}`:`${e("sPrice")}`,"\uff1a",(0,u.jsx)("span",{children:t.attributes[4].price})]}),(0,u.jsxs)("div",{className:"other-value",children:[e("SLPrice"),"\uff1a",(0,u.jsx)("span",{children:t.attributes[5].stoplossprice})]}),(0,u.jsxs)("div",{className:"other-value",children:[e("TProfit1"),"\uff1a",(0,u.jsx)("span",{children:t.takeprofit})]}),(0,u.jsxs)("div",{className:"logic-value",children:[e("invoicelogic"),"\uff1a",(0,u.jsx)("span",{children:t.content})]})]}),(0,u.jsx)("div",{className:"chart-pic",children:(0,u.jsx)("img",{src:w.url+t.image,alt:""})}),(0,u.jsxs)("div",{className:"chart-items-footer",children:[(0,u.jsxs)("div",{className:"chart-items-time",children:[e("like")," ",t.like_count]}),(0,u.jsx)("div",{className:"chart-items-operate",children:(0,u.jsx)("div",{className:"chart-operate",onClick:()=>(async t=>{try{await o.W.delete("/sellpost/delete_post_for_sell/"+t).then((a=>{if(200==a.data.code){s.success(`${e("DelTrue")}`);const a=v.filter((e=>e.id!==t));g(a)}else s.error(a.data.error)}))}catch(a){console.log(a)}})(t.id),children:e("del")})})]})]},a)))}),v&&v.length>0?(0,u.jsx)(c.ZP,{theme:{token:{colorPrimary:"#CAAE6D"}},children:(0,u.jsx)(l.Z,{defaultCurrent:1,total:b,pageSize:3,onChange:e=>{_(e),P(e)},current:y})}):(0,u.jsxs)("div",{className:"empty",children:[(0,u.jsx)("img",{className:"db-empty-icon",src:h,alt:"empty"}),(0,u.jsx)("div",{className:"db-empty-title",children:e("EmptyList")})]})]})}}}]);
//# sourceMappingURL=871.dd57b8cf.chunk.js.map